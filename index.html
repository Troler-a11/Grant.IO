<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TRUST_NODE | Secure Escrow</title>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <style>
        :root { --main: #00f2ff; --bg: #0a0b10; --card: #12141c; --gray: #888; }
        body { background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; overflow-x: hidden; }
        
        /* UI Headers */
        .header-ui { position: fixed; top: 0; width: 100%; display: flex; justify-content: space-between; padding: 20px; box-sizing: border-box; z-index: 1000; }
        .user-trigger { width: 45px; height: 45px; border-radius: 50%; border: 2px solid var(--main); overflow: hidden; cursor: pointer; background: #1a1a1a; }
        .user-trigger img { width: 100%; height: 100%; object-fit: cover; }
        .burger { font-size: 30px; color: var(--main); cursor: pointer; }

        /* Panels */
        .profile-panel { display: none; position: fixed; top: 75px; left: 20px; background: var(--card); border: 1px solid var(--main); border-radius: 15px; padding: 15px; width: 250px; z-index: 1001; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .sidebar { position: fixed; top: 0; right: -100%; width: 280px; height: 100%; background: #0d0e14; transition: 0.4s; z-index: 1500; padding: 60px 20px; border-left: 1px solid var(--main); box-sizing: border-box; }
        .sidebar.active { right: 0; }

        /* Hero Section */
        .hero { min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 20px; }
        .status-msg { font-size: 11px; color: var(--main); letter-spacing: 2px; margin-bottom: 10px; text-transform: uppercase; transition: 0.5s; height: 15px; }
        .main-btn { width: 220px; height: 220px; border-radius: 50%; border: 3px solid var(--main); background: transparent; color: white; font-size: 24px; cursor: pointer; transition: 0.3s; box-shadow: 0 0 30px rgba(0,242,255,0.1); display: flex; align-items: center; justify-content: center; }
        .main-btn:active { transform: scale(0.95); box-shadow: 0 0 50px var(--main); }

        /* Stats */
        .stat-row { margin-top: 40px; display: flex; gap: 30px; }
        .stat-item { text-align: center; }
        .stat-item b { font-size: 18px; display: block; }
        .stat-item small { color: var(--gray); font-size: 9px; text-transform: uppercase; letter-spacing: 1px; }

        /* Modals */
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 2000; overflow-y: auto; }
        .modal-content { max-width: 500px; margin: 20px auto; padding: 20px; border-radius: 20px; position: relative; }
        .rev-item { background: var(--card); padding: 15px; border-radius: 12px; margin-bottom: 10px; border-left: 3px solid var(--main); text-align: left; }
        .rev-name { font-weight: bold; color: var(--main); font-size: 14px; }
        .rev-meta { font-size: 10px; color: var(--gray); float: right; }

        /* Forms */
        .add-rev-form { background: #16171d; padding: 15px; border-radius: 12px; margin-bottom: 20px; border: 1px solid #222; }
        textarea, input { width: 100%; background: #0a0b10; border: 1px solid #333; color: white; padding: 12px; margin-top: 10px; border-radius: 8px; box-sizing: border-box; font-size: 14px; }
        .submit-btn { background: var(--main); color: black; border: none; padding: 14px; width: 100%; margin-top: 10px; font-weight: bold; cursor: pointer; border-radius: 8px; }
        
        .close-btn { position: absolute; top: 10px; right: 20px; font-size: 30px; cursor: pointer; color: var(--gray); }
    </style>
</head>
<body>

    <div class="header-ui">
        <div class="user-trigger" onclick="toggleProfile()"><img id="user-ava" src="https://img.icons8.com/ios-glyphs/90/555555/user--v1.png"></div>
        <div class="burger" onclick="toggleSidebar()">‚ò∞</div>
    </div>

    <div class="profile-panel" id="profilePanel">
        <b id="ui-name">–í—ñ–¥–≤—ñ–¥—É–≤–∞—á</b><br>
        <small id="ui-status" style="color:var(--main)">–°—Ç–∞—Ç—É—Å: Visitor</small><br>
        <small id="ui-id">ID: TN-000000</small><hr style="border:0; border-top:1px solid #222; margin:10px 0;">
        <div id="g_id_onload" data-client_id="71234567890-example.apps.googleusercontent.com" data-callback="handleAuth"></div>
        <div class="g_id_signin" data-type="standard"></div>
    </div>

    <div class="sidebar" id="sidebar">
        <a href="javascript:void(0)" onclick="openReviews()" style="display:block; color:white; padding:15px 0; text-decoration:none; border-bottom:1px solid #222;">üí¨ –í—ñ–¥–≥—É–∫–∏ (1542)</a>
        <a href="https://t.me/pingvin4ikpororo" target="_blank" style="display:block; color:white; padding:15px 0; text-decoration:none;">‚úàÔ∏è –ü—ñ–¥—Ç—Ä–∏–º–∫–∞</a>
    </div>

    <div class="hero">
        <div class="status-msg" id="h-sub">P2P BRIDGE: ONLINE</div>
        <h1 style="letter-spacing:8px; margin:0; font-size: 2.8rem;">TRUST_NODE</h1>
        <p style="color:var(--main); font-size:10px; letter-spacing:4px; margin-bottom:40px;">SECURE ESCROW SYSTEM</p>
        
        <div class="main-btn" onclick="openEscrow()">START</div>

        <div class="stat-row">
            <div class="stat-item"><b>15.4k+</b><small>–£–ì–û–î</small></div>
            <div class="stat-item"><b id="active-days">379</b><small>–î–ù–Ü–í –û–ù–õ–ê–ô–ù</small></div>
            <div class="stat-item"><b>$2.4M</b><small>–û–ë–û–†–û–¢</small></div>
        </div>
    </div>

    <div id="revModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeReviews()">√ó</span>
            <h2 style="text-align:center; color:var(--main); margin-bottom:5px;">–í—ñ–¥–≥—É–∫–∏</h2>
            <p style="text-align:center; font-size:12px; color:var(--gray); margin-bottom:20px;">–ë–∞–∑—É—î—Ç—å—Å—è –Ω–∞ 1542 —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è—Ö</p>
            
            <div class="add-rev-form">
                <textarea id="new-rev-text" placeholder="–û–ø–∏—à—ñ—Ç—å –≤–∞—à –¥–æ—Å–≤—ñ–¥..."></textarea>
                <button class="submit-btn" onclick="addNewReview()">–û–ü–£–ë–õ–Ü–ö–£–í–ê–¢–ò</button>
            </div>
            
            <div id="rev-list"></div>
        </div>
    </div>

    <div id="escrowModal" class="modal">
        <div class="modal-content" style="border: 1px solid var(--main); margin-top: 50px;">
            <span class="close-btn" onclick="closeEscrow()">√ó</span>
            <h2 style="color:var(--main); text-align:center;">CREATE BRIDGE</h2>
            <input type="number" id="deal-sum" placeholder="–°—É–º–∞ —É–≥–æ–¥–∏ ($)">
            <input type="text" id="seller-id" placeholder="ID –ü—Ä–æ–¥–∞–≤—Ü—è (@tg –∞–±–æ TN-ID)">
            <div style="font-size:11px; color:var(--gray); background:#0d0e14; padding:15px; border-radius:10px; margin-top:15px; line-height:1.4;">
                –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞—Ä–µ–∑–µ—Ä–≤—É—î –∫–æ—à—Ç–∏. –ö–æ–º—ñ—Å—ñ—è: <span style="color:var(--main)">3.5%</span>. –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–∏—Ö –≤—ñ–¥–±—É–¥–µ—Ç—å—Å—è –ø—ñ—Å–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –æ–ø–ª–∞—Ç–∏.
            </div>
            <button class="submit-btn" onclick="processDeal()" id="bridge-btn">–ê–ö–¢–ò–í–£–í–ê–¢–ò –ú–Ü–°–¢</button>
        </div>
    </div>

    <script>
        // –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á
        let currentUser = { isAuth: false, name: "–í—ñ–¥–≤—ñ–¥—É–≤–∞—á", id: "TN-000000", pic: "" };

        // 1. –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function init() {
            const startDate = new Date('2025-01-20');
            const diff = Math.ceil(Math.abs(new Date() - startDate) / (1000 * 60 * 60 * 24));
            document.getElementById('active-days').innerText = diff;
            generateReviewsBase();
            startStatusLoop();
        }

        // 2. Google Auth
        function handleAuth(response) {
            const p = JSON.parse(atob(response.credential.split('.')[1]));
            currentUser = { 
                isAuth: true, 
                name: p.name, 
                pic: p.picture, 
                id: "TN-" + Math.floor(100000 + Math.random() * 900000) 
            };
            document.getElementById('user-ava').src = currentUser.pic;
            document.getElementById('ui-name').innerText = currentUser.name;
            document.getElementById('ui-id').innerText = "ID: " + currentUser.id;
            document.getElementById('ui-status').innerText = "–°—Ç–∞—Ç—É—Å: Professional";
            document.getElementById('profilePanel').style.display = 'none';
        }

        // 3. –í—ñ–¥–≥—É–∫–∏ (222 —à—Ç—É–∫–∏)
        const textsPool = [
            "–ê–∫–∞—É–Ω—Ç –ø–µ—Ä–µ–π—à–æ–≤ –æ–¥—Ä–∞–∑—É, –≤–∂–µ –ø—ñ—à–æ–≤ –≥—Ä–∞—Ç–∏. –í—Å–µ —Ç–æ–ø!",
            "–ù–µ –¥—É–º–∞–≤, —â–æ –≤ –£–∫—Ä–∞—ó–Ω—ñ —î —Ç–∞–∫–∏–π —Ä—ñ–≤–µ–Ω—å. –í—Å–µ –ª—ñ—Ç–∞—î!",
            "Safe and fast. No scam here. Recommended.",
            "–í–∞–¥–∏–º, —Ç–∏ –∫—Ä–∞—â–∏–π! –í–∏—Ç—è–≥–Ω—É–≤ —É–≥–æ–¥—É, –≤—Å–µ —á—ñ—Ç–∫–æ.",
            "–ö–æ–º—ñ—Å—ñ—è –Ω–æ—Ä–º–∞–ª—å–Ω–∞, —è–∫—â–æ —Ö–æ—á–µ—à –±—É—Ç–∏ –≤–ø–µ–≤–Ω–µ–Ω–∏–º —É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ.",
            "Everything is fine. Fast payout and cool interface.",
            "–ü—Ä–æ–¥–∞–≤ –∞–∫–∫, –≥—Ä–æ—à—ñ –ø—Ä–∏–π—à–ª–∏ –∑–∞ 10 —Ö–≤. –ö–∞–π—Ñ.",
            "Trusted node. No more scammers for me. 5 stars!",
            "Money is in my pocket. Safe and easy process.",
            "–í–∂–µ –ø—ñ—à–æ–≤ –≥—Ä–∞—Ç–∏ –Ω–∞ –Ω–æ–≤–æ–º—É –∞–∫–∞—É–Ω—Ç—ñ. –í—Å–µ —Ç–æ–ø!"
        ];
        const namesPool = ["Andriy", "Sergey", "Margo", "Alex", "Vadim", "Oleg", "Ivan", "Elena", "Sasha", "Max", "Artem", "Nikita", "Yura", "Vlad"];
        let baseReviews = [];

        function generateReviewsBase() {
            for(let i=0; i<222; i++) {
                baseReviews.push({
                    name: namesPool[i % namesPool.length] + (i > 14 ? i : ""),
                    text: textsPool[i % textsPool.length],
                    stars: 5,
                    date: i === 221 ? "1 —Ä—ñ–∫ —Ç–æ–º—É" : (Math.floor(i/2) + 1 + "–¥. —Ç–æ–º—É")
                });
            }
        }

        function renderReviews() {
            const list = document.getElementById('rev-list');
            list.innerHTML = "";
            baseReviews.forEach(r => {
                list.innerHTML += `
                    <div class="rev-item">
                        <span class="rev-meta">${r.date}</span>
                        <div class="rev-name">${r.name}</div>
                        <div style="color:#ffcc00; font-size:10px; margin:3px 0;">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                        <div style="font-size:13px; line-height:1.4;">${r.text}</div>
                    </div>`;
            });
        }

        function addNewReview() {
            if(!currentUser.isAuth) { alert("–ë—É–¥—å –ª–∞—Å–∫–∞, –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ Google!"); return; }
            const t = document.getElementById('new-rev-text');
            if(t.value.length < 5) return;
            baseReviews.unshift({ name: currentUser.name, text: t.value, stars: 5, date: "—â–æ–π–Ω–æ" });
            t.value = ""; 
            renderReviews();
        }

        // 4. –õ–æ–≥—ñ–∫–∞ —Å—Ç–∞—Ç—É—Å—ñ–≤
        function startStatusLoop() {
            const msgs = ["P2P BRIDGE: ONLINE", "NODES ACTIVE: 14", "SECURE DEALS ONLY", "SAFE FOR GAMERS"];
            let idx = 0;
            setInterval(() => {
                const el = document.getElementById('h-sub');
                el.style.opacity = 0;
                setTimeout(() => {
                    el.innerText = msgs[idx];
                    el.style.opacity = 1;
                    idx = (idx + 1) % msgs.length;
                }, 500);
            }, 4000);
        }

        // 5. –£–≥–æ–¥–∞
        function processDeal() {
            const sum = document.getElementById('deal-sum').value;
            const seller = document.getElementById('seller-id').value;
            if(!sum || !seller) { alert("–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è!"); return; }
            const btn = document.getElementById('bridge-btn');
            btn.innerText = "–ì–ï–ù–ï–†–£–Ñ–ú–û –í–£–ó–û–õ...";
            btn.disabled = true;
            setTimeout(() => {
                alert(`–£—Å–ø—ñ—Ö! –ú–µ—Ä–µ–∂–µ–≤–∏–π –º—ñ—Å—Ç –¥–ª—è $${sum} –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ.\n–¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è: TX-${Math.random().toString(36).substr(2, 9).toUpperCase()}`);
                closeEscrow();
                btn.innerText = "–ê–ö–¢–ò–í–£–í–ê–¢–ò –ú–Ü–°–¢";
                btn.disabled = false;
            }, 2500);
        }

        // 6. UI Controls
        function toggleSidebar() { document.getElementById('sidebar').classList.toggle('active'); }
        function toggleProfile() { 
            const p = document.getElementById('profilePanel');
            p.style.display = p.style.display === 'block' ? 'none' : 'block'; 
        }
        function openReviews() { document.getElementById('revModal').style.display = 'block'; renderReviews(); toggleSidebar(); }
        function closeReviews() { document.getElementById('revModal').style.display = 'none'; }
        function openEscrow() { 
            if(!currentUser.isAuth) { alert("–ü–æ—Ç—Ä—ñ–±–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è!"); toggleProfile(); return; }
            document.getElementById('escrowModal').style.display = 'block'; 
        }
        function closeEscrow() { document.getElementById('escrowModal').style.display = 'none'; }

        window.onload = init;
    </script>
</body>
</html>
