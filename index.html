<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TRUST_NODE | Professional Escrow</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <style>
        :root { --main: #00f2ff; --bg: #0a0b10; --card: #12141c; }
        body { background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; overflow-x: hidden; width: 100vw; }
        
        .profile-trigger { position: fixed; top: 20px; left: 20px; width: 48px; height: 48px; border-radius: 50%; border: 2px solid var(--main); cursor: pointer; z-index: 1000; overflow: hidden; background: #1a1a1a; box-shadow: 0 0 15px rgba(0,242,255,0.3); }
        .profile-trigger img { width: 100%; height: 100%; object-fit: cover; }
        
        .profile-card { display: none; position: fixed; top: 80px; left: 20px; background: var(--card); border: 1px solid var(--main); padding: 20px; border-radius: 18px; z-index: 1001; width: 260px; box-shadow: 0 15px 50px rgba(0,0,0,0.9); }

        .menu-icon { position: fixed; top: 22px; right: 20px; font-size: 28px; cursor: pointer; z-index: 1600; color: var(--main); }
        .sidebar { position: fixed; top: 0; right: -100%; width: 280px; height: 100%; background: #0d0e14; transition: 0.4s ease; z-index: 1500; padding: 70px 20px; border-left: 1px solid var(--main); box-sizing: border-box; }
        .sidebar.active { right: 0; }
        .menu-link { display: block; padding: 18px 0; color: #eee; text-decoration: none; border-bottom: 1px solid #1a1a1a; font-size: 15px; cursor: pointer; }

        .hero { min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
        .main-circle-btn {
            width: 230px; height: 230px; border-radius: 50%; border: 4px solid var(--main);
            background: transparent; color: white; font-size: 22px; font-weight: bold;
            cursor: pointer; box-shadow: 0 0 40px rgba(0, 242, 255, 0.1);
            transition: 0.5s; display: flex; align-items: center; justify-content: center;
            text-transform: uppercase; letter-spacing: 3px;
        }

        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.96); overflow-y: auto; }
        .modal-content { background: #0a0b10; margin: 20px auto; padding: 20px; width: 92%; max-width: 550px; border-radius: 20px; }
        
        .rev-stats { text-align: center; padding: 20px; background: #16171d; border-radius: 15px; margin-bottom: 20px; border: 1px solid var(--main); }
        .rev-card { background: var(--card); padding: 16px; border-radius: 14px; margin-bottom: 12px; border: 1px solid #1f222e; }
        .rev-header { display: flex; align-items: center; gap: 12px; margin-bottom: 10px; }
        .rev-avatar { width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 14px; color: white; background: #1a1a1a; border: 1px solid var(--main); text-transform: uppercase; }
        .stars { color: #444; font-size: 14px; }
        .stars .active { color: #ffcc00; }
        
        .lang-bar { display: flex; gap: 10px; margin-bottom: 20px; }
        .lang-btn { background: #1a1a1a; border: 1px solid #333; color: white; padding: 8px 12px; border-radius: 6px; font-size: 12px; flex: 1; cursor: pointer; text-align: center; }
        .lang-btn.active { border-color: var(--main); color: var(--main); }
    </style>
</head>
<body>

    <div class="profile-trigger" onclick="toggleProfile()"><img id="u-ava" src="https://img.icons8.com/ios-glyphs/90/555555/user--v1.png"></div>

    <div class="profile-card" id="profileCard">
        <h4 id="p-name">–í—ñ–¥–≤—ñ–¥—É–≤–∞—á</h4>
        <p style="font-size:12px; color:var(--main); margin:0;"><span id="p-stat-label">–°—Ç–∞—Ç—É—Å</span>: <span id="p-status">Visitor</span></p>
        <p style="font-size:12px; margin:5px 0;">ID: <span id="p-id">TN-000000</span></p>
        <p id="p-deals" style="font-size:12px; color:#888;">–£–≥–æ–¥: 0</p>
    </div>

    <div class="menu-icon" onclick="toggleMenu()">‚ò∞</div>

    <div class="sidebar" id="sidebar">
        <div class="lang-bar">
            <div class="lang-btn active" data-l="uk" onclick="setLang('uk')">UA</div>
            <div class="lang-btn" data-l="en" onclick="setLang('en')">EN</div>
            <div class="lang-btn" data-l="ru" onclick="setLang('ru')">RU</div>
        </div>
        <div id="g_id_onload" data-client_id="YOUR_ID" data-callback="onSignIn"></div>
        <div class="g_id_signin" data-type="standard"></div>
        <nav style="margin-top:20px;">
            <a onclick="showReviews()" class="menu-link" id="l-rev">üí¨ –í—ñ–¥–≥—É–∫–∏ (1423)</a>
            <a href="https://t.me/pingvin4ikpororo" class="menu-link" id="l-sup">‚úàÔ∏è –ü—ñ–¥—Ç—Ä–∏–º–∫–∞</a>
            <a onclick="location.reload()" class="menu-link" style="color:#ff4444;" id="l-out">üîÑ –í–∏–π—Ç–∏</a>
        </nav>
    </div>

    <div class="hero">
        <h1 id="h-logo" style="letter-spacing:10px; color:var(--main); margin:0;">TRUST_NODE</h1>
        <p id="h-sub" style="opacity:0.4; font-size:10px; margin-bottom:50px; letter-spacing:3px;">INTERNATIONAL ESCROW SYSTEM</p>
        <button class="main-circle-btn" id="start-btn" onclick="checkAuthAndStart()">START</button>
    </div>

    <div id="revModal" class="modal">
        <div class="modal-content">
            <span style="float:right; cursor:pointer; font-size:24px;" onclick="closeReviews()">‚úï</span>
            
            <div class="rev-stats">
                <div style="font-size:32px; font-weight:bold; color:var(--main);" id="total-rate">4.7</div>
                <div class="stars" id="total-stars"></div>
                <div style="font-size:12px; margin-top:5px; opacity:0.6;" id="total-count">–ë–∞–∑—É—î—Ç—å—Å—è –Ω–∞ 1423 –≤—ñ–¥–≥—É–∫–∞—Ö</div>
            </div>

            <div id="rev-list"></div>
        </div>
    </div>

    <script>
        let user = { isAuth: false, id: "TN-000000", lang: 'uk' };
        const trans = {
            uk: { start:"–ü–û–ß–ê–¢–ò", sub:"–ú–Ü–ñ–ù–ê–†–û–î–ù–ê –°–ò–°–¢–ï–ú–ê –ì–ê–†–ê–ù–¢", rev:"–í—ñ–¥–≥—É–∫–∏ (1423)", sup:"–ü—ñ–¥—Ç—Ä–∏–º–∫–∞", out:"–í–∏–π—Ç–∏", p_name:"–í—ñ–¥–≤—ñ–¥—É–≤–∞—á", p_stat:"–°—Ç–∞—Ç—É—Å", p_deals:"–£–≥–æ–¥: 0", t_count: "–ë–∞–∑—É—î—Ç—å—Å—è –Ω–∞ 1423 –≤—ñ–¥–≥—É–∫–∞—Ö" },
            en: { start:"START", sub:"INTERNATIONAL ESCROW SYSTEM", rev:"Reviews (1423)", sup:"Support", out:"Logout", p_name:"Visitor", p_stat:"Status", p_deals:"Deals: 0", t_count: "Based on 1423 reviews" },
            ru: { start:"–ù–ê–ß–ê–¢–¨", sub:"–ú–ï–ñ–î–£–ù–ê–†–û–î–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –ì–ê–†–ê–ù–¢", rev:"–û—Ç–∑—ã–≤—ã (1423)", sup:"–ü–æ–¥–¥–µ—Ä–∂–∫–∞", out:"–í—ã–π—Ç–∏", p_name:"–ü–æ—Å–µ—Ç–∏—Ç–µ–ª—å", p_stat:"–°—Ç–∞—Ç—É—Å", p_deals:"–°–¥–µ–ª–æ–∫: 0", t_count: "–ù–∞ –æ—Å–Ω–æ–≤–µ 1423 –æ—Ç–∑—ã–≤–æ–≤" }
        };

        const names = ["Andriy", "Boris", "Claire", "Dmitro", "Elena", "Fedor", "Ganna", "Hlib", "Igor", "Julia", "Kirill", "Leonid", "Maria", "Nazar", "Oleg", "Petro", "Quentin", "Ruslan", "Svitlana", "Taras", "Uliana", "Viktor", "Walter", "Xenia", "Yaroslav", "Zahar", "Arthur", "Bella", "Vadim", "Glib", "Diana", "Egor", "Zhenya", "Inna", "Kostya", "Luda", "Misha", "Nina", "Ostap", "Pasha"];

        function setLang(l) {
            user.lang = l;
            document.querySelectorAll('.lang-btn').forEach(b => b.classList.toggle('active', b.dataset.l === l));
            document.getElementById('start-btn').innerText = trans[l].start;
            document.getElementById('h-sub').innerText = trans[l].sub;
            document.getElementById('l-rev').innerText = "üí¨ " + trans[l].rev;
            document.getElementById('l-sup').innerText = "‚úàÔ∏è " + trans[l].sup;
            document.getElementById('l-out').innerText = "üîÑ " + trans[l].out;
            document.getElementById('total-count').innerText = trans[l].t_count;
            
            // –ü–µ—Ä–µ–∫–ª–∞–¥ –ø—Ä–æ—Ñ—ñ–ª—é
            if(!user.isAuth) document.getElementById('p-name').innerText = trans[l].p_name;
            document.getElementById('p-stat-label').innerText = trans[l].p_stat;
            if(!user.isAuth) document.getElementById('p-deals').innerText = trans[l].p_deals;
        }

        function toggleMenu() { document.getElementById('sidebar').classList.toggle('active'); }
        function toggleProfile() { 
            const pc = document.getElementById('profileCard');
            pc.style.display = pc.style.display === 'block' ? 'none' : 'block';
        }

        function loadReviews() {
            const list = document.getElementById('rev-list');
            let h = "";
            let sumStars = 0;

            const bad = ["–ñ–∞—Ö–ª–∏–≤–æ! –ß–µ–∫–∞–≤ 5 –≥–æ–¥–∏–Ω.", "–ö–æ–º—ñ—Å—ñ—è –ø—Ä–æ—Å—Ç–æ –≥—Ä–∞–±—ñ–∂–Ω–∏—Ü—å–∫–∞!", "–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –º–æ–≤—á–∏—Ç—å –≥–æ–¥–∏–Ω—É.", "–î—É–∂–µ –¥–æ–≤–≥–∞ –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è.", "–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é —á–µ—Ä–µ–∑ —à–≤–∏–¥–∫—ñ—Å—Ç—å."];
            const good = ["–í—Å–µ —Å—É–ø–µ—Ä, –í–∞–¥–∏–º –¥–æ–ø–æ–º—ñ–≥.", "–ù–∞–π–∫—Ä–∞—â–∏–π –≥–∞—Ä–∞–Ω—Ç!", "–®–≤–∏–¥–∫–æ —ñ –Ω–∞–¥—ñ–π–Ω–æ.", "Safe service, thanks.", "–¢–æ–ø –∑–∞ —Å–≤–æ—ó –≥—Ä–æ—à—ñ."];

            for(let i=0; i<1423; i++) {
                let r, txt;
                if(i === 1422) { // –ü–µ—Ä—à–∏–π –≤—ñ–¥–≥—É–∫ (–†—ñ–∫ —Ç–æ–º—É)
                    r = 5; txt = "(–ù–∞—Ä–æ–¥–∂–µ–Ω–Ω—è —Å–∞–π—Ç—É) –ù–∞–π–∫—Ä–∞—â–∏–π —Å—Ç–∞—Ä—Ç –¥–ª—è –±–µ–∑–ø–µ—á–Ω–∏—Ö —É–≥–æ–¥!";
                } else if (i % 15 === 0) { // –ö–æ–∂–µ–Ω 15-–π –≤—ñ–¥–≥—É–∫ - –ø–æ–≥–∞–Ω–∏–π
                    r = Math.floor(Math.random()*3); // 0, 1, 2 –∑—ñ—Ä–∫–∏
                    txt = bad[i % bad.length];
                } else {
                    r = Math.floor(Math.random()*2) + 4; // 4 –∞–±–æ 5 –∑—ñ—Ä–æ–∫
                    txt = good[i % good.length];
                }
                
                sumStars += r;
                if(i > 200) continue; // –í—ñ–¥–æ–±—Ä–∞–∂–∞—î–º–æ 200, —Ä–µ—à—Ç–∞ –≤ —Ñ–æ–Ω—ñ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

                const name = names[i % names.length];
                let dateStr;
                if(i === 1422) dateStr = "1 —Ä—ñ–∫ —Ç–æ–º—É";
                else if(i < 20) dateStr = "—Å—å–æ–≥–æ–¥–Ω—ñ";
                else if(i < 50) dateStr = "1–¥. —Ç–æ–º—É";
                else dateStr = Math.floor(i/10) + "–¥. —Ç–æ–º—É";

                h += `<div class="rev-card">
                    <div class="rev-header">
                        <div class="rev-avatar">${name[0]}</div>
                        <span style="font-size:13px; color:var(--main);">${name}</span>
                        <span style="margin-left:auto; font-size:10px; color:#555;">${dateStr}</span>
                    </div>
                    <div class="stars">${"<span class='active'>‚òÖ</span>".repeat(r)}${"<span>‚òÖ</span>".repeat(5-r)}</div>
                    <p style="font-size:13px; margin:5px 0;">${txt}</p>
                </div>`;
            }

            const finalAvg = (sumStars / 1423).toFixed(1);
            document.getElementById('total-rate').innerText = finalAvg;
            document.getElementById('total-stars').innerHTML = "<span class='active'>‚òÖ</span>".repeat(Math.round(finalAvg)) + "<span>‚òÖ</span>".repeat(5-Math.round(finalAvg));
            list.innerHTML = h;
        }

        function onSignIn(resp) {
            const p = JSON.parse(atob(resp.credential.split('.')[1]));
            user.isAuth = true;
            user.id = "TN-" + Math.floor(100000 + Math.random()*800000);
            document.getElementById('u-ava').src = p.picture;
            document.getElementById('p-name').innerText = p.name;
            document.getElementById('p-id').innerText = user.id;
            document.getElementById('p-status').innerText = "User";
            document.getElementById('p-deals').innerText = "–£–≥–æ–¥: 14";
            toggleMenu();
        }

        function showReviews() { document.getElementById('revModal').style.display = 'block'; loadReviews(); toggleMenu(); }
        function closeReviews() { document.getElementById('revModal').style.display = 'none'; }
        function checkAuthAndStart() { if(!user.isAuth) toggleMenu(); }
        
        setLang('uk');
    </script>
</body>
</html>
