<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TRUST_NODE | Escrow System</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <style>
        :root { --main: #00f2ff; --bg: #0a0b10; --card: #12141c; }
        body { background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; overflow-x: hidden; width: 100vw; }
        
        /* –ü—Ä–æ—Ñ—ñ–ª—å */
        .profile-trigger { position: fixed; top: 20px; left: 20px; width: 48px; height: 48px; border-radius: 50%; border: 2px solid var(--main); cursor: pointer; z-index: 1000; overflow: hidden; background: #1a1a1a; box-shadow: 0 0 15px rgba(0,242,255,0.3); }
        .profile-trigger img { width: 100%; height: 100%; object-fit: cover; }
        
        .profile-card { display: none; position: fixed; top: 80px; left: 20px; background: var(--card); border: 1px solid var(--main); padding: 20px; border-radius: 18px; z-index: 1001; width: 260px; box-shadow: 0 15px 50px rgba(0,0,0,0.9); }

        /* –ú–µ–Ω—é */
        .menu-icon { position: fixed; top: 22px; right: 20px; font-size: 28px; cursor: pointer; z-index: 1600; color: var(--main); }
        .sidebar { position: fixed; top: 0; right: -100%; width: 280px; height: 100%; background: #0d0e14; transition: 0.4s ease; z-index: 1500; padding: 70px 20px; border-left: 1px solid var(--main); box-sizing: border-box; }
        .sidebar.active { right: 0; }
        .menu-link { display: block; padding: 18px 0; color: #eee; text-decoration: none; border-bottom: 1px solid #1a1a1a; font-size: 15px; cursor: pointer; }

        .hero { min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
        .main-circle-btn {
            width: 230px; height: 230px; border-radius: 50%; border: 4px solid var(--main);
            background: transparent; color: white; font-size: 22px; font-weight: bold;
            cursor: pointer; box-shadow: 0 0 40px rgba(0, 242, 255, 0.1);
            transition: 0.5s; display: flex; align-items: center; justify-content: center;
            text-transform: uppercase; letter-spacing: 3px;
        }

        /* –í—ñ–¥–≥—É–∫–∏ */
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.96); overflow-y: auto; }
        .modal-content { background: #0a0b10; margin: 20px auto; padding: 20px; width: 92%; max-width: 550px; border-radius: 20px; position: relative; }
        .rev-card { background: var(--card); padding: 16px; border-radius: 14px; margin-bottom: 12px; border: 1px solid #1f222e; }
        .rev-header { display: flex; align-items: center; gap: 12px; margin-bottom: 10px; }
        .rev-avatar { width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 14px; color: white; background: #1a1a1a; border: 1px solid var(--main); text-transform: uppercase; }
        .stars { color: #444; font-size: 14px; margin-bottom: 6px; }
        .stars .active { color: #ffcc00; }
        
        .lang-bar { display: flex; gap: 10px; margin-bottom: 20px; }
        .lang-btn { background: #1a1a1a; border: 1px solid #333; color: white; padding: 8px 12px; border-radius: 6px; font-size: 12px; flex: 1; cursor: pointer; }
        .lang-btn.active { border-color: var(--main); color: var(--main); }

        .rev-form-fixed { margin-bottom: 25px; background: #16171d; padding: 15px; border-radius: 15px; border: 1px solid #333; }
    </style>
</head>
<body>

    <div class="profile-trigger" onclick="toggleProfile()"><img id="u-ava" src="https://img.icons8.com/ios-glyphs/90/555555/user--v1.png"></div>

    <div class="profile-card" id="profileCard">
        <h4 id="u-name">–í—ñ–¥–≤—ñ–¥—É–≤–∞—á</h4>
        <p style="font-size:12px; color:var(--main); margin:0;">Status: <span id="u-status">Visitor</span></p>
        <p style="font-size:12px; margin:5px 0;">ID: <span id="u-id">TN-000000</span></p>
        <p id="u-stat" style="font-size:12px; color:#888;">–£–≥–æ–¥: 0</p>
    </div>

    <div class="menu-icon" onclick="toggleMenu()">‚ò∞</div>

    <div class="sidebar" id="sidebar">
        <div class="lang-bar">
            <div class="lang-btn active" data-l="uk" onclick="setLang('uk')">UA</div>
            <div class="lang-btn" data-l="en" onclick="setLang('en')">EN</div>
            <div class="lang-btn" data-l="ru" onclick="setLang('ru')">RU</div>
        </div>
        <div id="g_id_onload" data-client_id="–í–°–¢–ê–í_–°–í–Ü–ô_ID" data-callback="onSignIn"></div>
        <div class="g_id_signin" data-type="standard"></div>
        <nav style="margin-top:20px;">
            <a onclick="showReviews()" class="menu-link" id="l-rev">üí¨ –í—ñ–¥–≥—É–∫–∏ (1432)</a>
            <a href="https://t.me/pingvin4ikpororo" class="menu-link" id="l-sup">‚úàÔ∏è –ü—ñ–¥—Ç—Ä–∏–º–∫–∞</a>
            <a onclick="location.reload()" class="menu-link" style="color:#ff4444;" id="l-out">üîÑ –í–∏–π—Ç–∏</a>
        </nav>
    </div>

    <div class="hero">
        <h1 id="h-logo" style="letter-spacing:10px; color:var(--main); margin:0;">TRUST_NODE</h1>
        <p id="h-sub" style="opacity:0.4; font-size:10px; margin-bottom:50px; letter-spacing:3px;">INTERNATIONAL ESCROW SYSTEM</p>
        <button class="main-circle-btn" id="start-btn" onclick="checkAuthAndStart()">START</button>
    </div>

    <div id="revModal" class="modal">
        <div class="modal-content">
            <span style="float:right; cursor:pointer; font-size:24px;" onclick="closeReviews()">‚úï</span>
            <h2 id="r-head" style="color:var(--main)">–†–µ–ø—É—Ç–∞—Ü—ñ—è –≤—É–∑–ª–∞</h2>
            
            <div class="rev-form-fixed">
                <p id="f-label" style="font-size:13px; margin:0 0 10px 0;">–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è –≤—Ä–∞–∂–µ–Ω–Ω—è–º–∏ –ø—Ä–æ –Ω–∞—Å:</p>
                <div id="stars-in" style="font-size:24px; color:#444; margin-bottom:10px; cursor:pointer;">
                    <span onclick="setRate(1)">‚òÖ</span><span onclick="setRate(2)">‚òÖ</span><span onclick="setRate(3)">‚òÖ</span><span onclick="setRate(4)">‚òÖ</span><span onclick="setRate(5)">‚òÖ</span>
                </div>
                <input type="text" id="rev-txt" placeholder="–í–∞—à –≤—ñ–¥–≥—É–∫..." style="width:100%; padding:10px; background:#000; border:1px solid #333; color:white; border-radius:8px; box-sizing:border-box;">
                <button onclick="trySendReview()" style="width:100%; margin-top:10px; padding:10px; background:var(--main); border:none; border-radius:8px; font-weight:bold; cursor:pointer;" id="f-btn">–í–Ü–î–ü–†–ê–í–ò–¢–ò</button>
            </div>

            <div id="rev-list"></div>
        </div>
    </div>

    <script>
        let user = { isAuth: false, id: "TN-000000", rate: 0, lang: 'en' };
        const trans = {
            uk: { start:"–ü–û–ß–ê–¢–ò", sub:"–ú–Ü–ñ–ù–ê–†–û–î–ù–ê –°–ò–°–¢–ï–ú–ê –ì–ê–†–ê–ù–¢", rev:"–í—ñ–¥–≥—É–∫–∏ (1432)", sup:"–ü—ñ–¥—Ç—Ä–∏–º–∫–∞", out:"–í–∏–π—Ç–∏", head:"–†–µ–ø—É—Ç–∞—Ü—ñ—è –≤—É–∑–ª–∞", flabel:"–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è –≤—Ä–∞–∂–µ–Ω–Ω—è–º–∏ –ø—Ä–æ –Ω–∞—Å:", fbtn:"–í–Ü–î–ü–†–ê–í–ò–¢–ò" },
            en: { start:"START", sub:"INTERNATIONAL ESCROW SYSTEM", rev:"Reviews (1432)", sup:"Support", out:"Logout", head:"Node Reputation", flabel:"Share your impressions:", fbtn:"SEND" },
            ru: { start:"–ù–ê–ß–ê–¢–¨", sub:"–ú–ï–ñ–î–£–ù–ê–†–û–î–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –ì–ê–†–ê–ù–¢", rev:"–û—Ç–∑—ã–≤—ã (1432)", sup:"–ü–æ–¥–¥–µ—Ä–∂–∫–∞", out:"–í—ã–π—Ç–∏", head:"–†–µ–ø—É—Ç–∞—Ü–∏—è —É–∑–ª–∞", flabel:"–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è–º–∏:", fbtn:"–û–¢–ü–†–ê–í–ò–¢–¨" }
        };

        function setLang(l) {
            user.lang = l;
            document.querySelectorAll('.lang-btn').forEach(b => b.classList.toggle('active', b.dataset.l === l));
            document.getElementById('start-btn').innerText = trans[l].start;
            document.getElementById('h-sub').innerText = trans[l].sub;
            document.getElementById('l-rev').innerText = "üí¨ " + trans[l].rev;
            document.getElementById('l-sup').innerText = "‚úàÔ∏è " + trans[l].sup;
            document.getElementById('l-out').innerText = "üîÑ " + trans[l].out;
            document.getElementById('r-head').innerText = trans[l].head;
            document.getElementById('f-label').innerText = trans[l].flabel;
            document.getElementById('f-btn').innerText = trans[l].fbtn;
        }

        function toggleMenu() { document.getElementById('sidebar').classList.toggle('active'); }
        function toggleProfile() { document.getElementById('profileCard').style.display = (document.getElementById('profileCard').style.display === 'block' ? 'none' : 'block'); }

        function checkAuthAndStart() {
            if(!user.isAuth) { toggleMenu(); alert(user.lang === 'uk' ? "–ë—É–¥—å –ª–∞—Å–∫–∞, –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ Google" : "Please login via Google"); }
            else { alert("Starting bridge..."); }
        }

        function onSignIn(resp) {
            const p = JSON.parse(atob(resp.credential.split('.')[1]));
            user.isAuth = true;
            user.id = "TN-" + Math.floor(100000 + Math.random()*800000);
            document.getElementById('u-ava').src = p.picture;
            document.getElementById('u-name').innerText = p.name;
            document.getElementById('u-id').innerText = user.id;
            document.getElementById('u-status').innerText = "User";
            document.getElementById('u-stat').innerText = "–£–≥–æ–¥: 12";
            toggleMenu();
        }

        function setRate(r) {
            user.rate = r;
            const spans = document.getElementById('stars-in').children;
            for(let i=0; i<5; i++) spans[i].style.color = i < r ? '#ffcc00' : '#444';
        }

        function trySendReview() {
            if(!user.isAuth) { toggleMenu(); alert("–ü–æ—Ç—Ä—ñ–±–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è"); return; }
            alert("–í—ñ–¥–≥—É–∫ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü—ñ—é!");
        }

        function loadReviews() {
            const list = document.getElementById('rev-list');
            let h = "";
            const texts = ["–®–≤–∏–¥–∫–æ!", "Safe service", "–ö–æ–º—ñ—Å—ñ—è –≤–∏—Å–æ–∫–∞, –∞–ª–µ –Ω–∞–¥—ñ–π–Ω–æ", "Everything is good", "–ß–µ–∫–∞–≤ 3 –≥–æ–¥–∏–Ω–∏, –∞–ª–µ –í–∞–¥–∏–º –¥–æ–ø–æ–º—ñ–≥!", "Top escrow"];
            const names = ["Alex", "Dmitry", "Sasha", "Max", "Ivan", "Elena", "Margo", "Vova"];
            
            // –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è 1432 (–≤—ñ–∑—É–∞–ª—å–Ω–æ)
            for(let i=0; i<30; i++) {
                const r = Math.floor(Math.random()*2) + 4;
                const name = names[Math.floor(Math.random()*names.length)];
                const daysAgo = i < 10 ? 0 : Math.floor(i/2); // –°—å–æ–≥–æ–¥–Ω—ñ, –≤—á–æ—Ä–∞ —ñ —Ç–¥
                const dateText = daysAgo === 0 ? "—Å—å–æ–≥–æ–¥–Ω—ñ" : `${daysAgo}–¥. —Ç–æ–º—É`;
                
                h += `<div class="rev-card">
                    <div class="rev-header">
                        <div class="rev-avatar">${name[0]}</div>
                        <span style="font-size:13px; color:var(--main);">TN-${Math.floor(700000+Math.random()*90000)}</span>
                        <span style="margin-left:auto; font-size:10px; color:#555;">${dateText}</span>
                    </div>
                    <div class="stars">${"<span class='active'>‚òÖ</span>".repeat(r)}${"<span>‚òÖ</span>".repeat(5-r)}</div>
                    <p style="font-size:13px;">${texts[i % texts.length]}</p>
                </div>`;
            }
            list.innerHTML = h;
        }

        function showReviews() { document.getElementById('revModal').style.display = 'block'; loadReviews(); toggleMenu(); }
        function closeReviews() { document.getElementById('revModal').style.display = 'none'; }
        
        // –ü–æ—á–∞—Ç–∫–æ–≤–∞ –º–æ–≤–∞
        setLang('en');
    </script>
</body>
</html>
 
